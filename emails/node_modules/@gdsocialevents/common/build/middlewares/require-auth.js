"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var NotAuthorizedError_1 = require("../errors/NotAuthorizedError");
//if the currentUser is not defined, throw notAuthorized!
//reject the request if the user is not logged in (logged in: req.currentUser is defined!)
exports.requireAuth = function (req, res, next) {
    //assumption: we will use this middleware AFTER the currentUser middleware
    if (!req.currentUser) {
        //console.error('in require-auth, curreUser is NOT defined!');
        throw new NotAuthorizedError_1.NotAuthorizedError('not authorized');
    }
    //console.error('in require-auth, currUser is set!');
    next();
};
